<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - YourName Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo">Sayantan Roy</a>
            <ul>
                <li><a href="about.html">About</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="blog.html">Blog</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="blog">
            <h2>Blog</h2>
            <ul>
                <li>
                    <h3>Blog Post 1</h3>
                    <p>import java.util.*;

                        public class FirstAndFollowSets {
                            private final Map<String, List<String>> grammar;
                            private final Map<String, Set<String>> firstSets;
                            private final Map<String, Set<String>> followSets;
                            private final String startSymbol;
                            private final Set<String> terminals;
                            private final Set<String> nonTerminals;
                        
                            public FirstAndFollowSets(Map<String, List<String>> grammar, String startSymbol) {
                                this.grammar = grammar;
                                this.startSymbol = startSymbol;
                                this.firstSets = new HashMap<>();
                                this.followSets = new HashMap<>();
                                
                                // Identify terminals and non-terminals
                                this.terminals = new HashSet<>();
                                this.nonTerminals = new HashSet<>(grammar.keySet());
                                
                                // Initialize sets
                                for (String nonTerminal : nonTerminals) {
                                    firstSets.put(nonTerminal, new HashSet<>());
                                    followSets.put(nonTerminal, new HashSet<>());
                                }
                                
                                // Find terminals
                                for (List<String> productions : grammar.values()) {
                                    for (String production : productions) {
                                        String[] symbols = production.split(" ");
                                        for (String symbol : symbols) {
                                            if (!nonTerminals.contains(symbol) && !symbol.equals("ε")) {
                                                terminals.add(symbol);
                                            }
                                        }
                                    }
                                }
                                
                                // Add $ to the FOLLOW set of the start symbol
                                followSets.get(startSymbol).add("$");
                            }
                        
                            public void computeFirstSets() {
                                boolean changed = true;
                                
                                // Continue until no more changes are made
                                while (changed) {
                                    changed = false;
                                    
                                    // For each non-terminal
                                    for (String nonTerminal : nonTerminals) {
                                        List<String> productions = grammar.get(nonTerminal);
                                        
                                        // For each production of the non-terminal
                                        for (String production : productions) {
                                            if (production.equals("ε")) {
                                                // If production is epsilon, add epsilon to FIRST set
                                                if (firstSets.get(nonTerminal).add("ε")) {
                                                    changed = true;
                                                }
                                            } else {
                                                String[] symbols = production.split(" ");
                                                int symbolIndex = 0;
                                                boolean allDeriveEpsilon = true;
                                                
                                                // Process each symbol in the production
                                                while (symbolIndex < symbols.length && allDeriveEpsilon) {
                                                    String currentSymbol = symbols[symbolIndex];
                                                    
                                                    if (terminals.contains(currentSymbol)) {
                                                        // If it's a terminal, add it to FIRST set and break
                                                        if (firstSets.get(nonTerminal).add(currentSymbol)) {
                                                            changed = true;
                                                        }
                                                        allDeriveEpsilon = false;
                                                    } else if (nonTerminals.contains(currentSymbol)) {
                                                        // If it's a non-terminal, add its FIRST set (except epsilon)
                                                        Set<String> currentFirst = firstSets.get(currentSymbol);
                                                        
                                                        for (String first : currentFirst) {
                                                            if (!first.equals("ε") && firstSets.get(nonTerminal).add(first)) {
                                                                changed = true;
                                                            }
                                                        }
                                                        
                                                        // Check if this non-terminal can derive epsilon
                                                        if (!currentFirst.contains("ε")) {
                                                            allDeriveEpsilon = false;
                                                        }
                                                    }
                                                    
                                                    symbolIndex++;
                                                }
                                                
                                                // If all symbols in the production can derive epsilon, add epsilon to FIRST set
                                                if (allDeriveEpsilon && firstSets.get(nonTerminal).add("ε")) {
                                                    changed = true;
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        
                            public void computeFollowSets() {
                                boolean changed = true;
                                
                                // Continue until no more changes are made
                                while (changed) {
                                    changed = false;
                                    
                                    // For each production in the grammar
                                    for (String nonTerminal : nonTerminals) {
                                        List<String> productions = grammar.get(nonTerminal);
                                        
                                        for (String production : productions) {
                                            if (production.equals("ε")) {
                                                continue;
                                            }
                                            
                                            String[] symbols = production.split(" ");
                                            
                                            // For each symbol in the production
                                            for (int i = 0; i < symbols.length; i++) {
                                                String currentSymbol = symbols[i];
                                                
                                                // If it's a non-terminal
                                                if (nonTerminals.contains(currentSymbol)) {
                                                    // If it's the last symbol or if the FIRST set of what follows contains epsilon
                                                    if (i == symbols.length - 1) {
                                                        // Add everything in FOLLOW(nonTerminal) to FOLLOW(currentSymbol)
                                                        for (String follow : followSets.get(nonTerminal)) {
                                                            if (followSets.get(currentSymbol).add(follow)) {
                                                                changed = true;
                                                            }
                                                        }
                                                    } else {
                                                        // Compute FIRST of the rest of the string
                                                        boolean allCanDeriveEpsilon = true;
                                                        int j = i + 1;
                                                        
                                                        while (j < symbols.length && allCanDeriveEpsilon) {
                                                            String nextSymbol = symbols[j];
                                                            
                                                            if (terminals.contains(nextSymbol)) {
                                                                // If it's a terminal, add it to FOLLOW and break
                                                                if (followSets.get(currentSymbol).add(nextSymbol)) {
                                                                    changed = true;
                                                                }
                                                                allCanDeriveEpsilon = false;
                                                            } else if (nonTerminals.contains(nextSymbol)) {
                                                                // Add everything in FIRST(nextSymbol) except epsilon to FOLLOW(currentSymbol)
                                                                for (String first : firstSets.get(nextSymbol)) {
                                                                    if (!first.equals("ε") && followSets.get(currentSymbol).add(first)) {
                                                                        changed = true;
                                                                    }
                                                                }
                                                                
                                                                // If epsilon is not in FIRST(nextSymbol), we're done
                                                                if (!firstSets.get(nextSymbol).contains("ε")) {
                                                                    allCanDeriveEpsilon = false;
                                                                }
                                                            }
                                                            
                                                            j++;
                                                        }
                                                        
                                                        // If all symbols after i can derive epsilon, add FOLLOW(nonTerminal) to FOLLOW(currentSymbol)
                                                        if (allCanDeriveEpsilon) {
                                                            for (String follow : followSets.get(nonTerminal)) {
                                                                if (followSets.get(currentSymbol).add(follow)) {
                                                                    changed = true;
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        
                            public void computeFirstAndFollowSets() {
                                computeFirstSets();
                                computeFollowSets();
                            }
                        
                            public Map<String, Set<String>> getFirstSets() {
                                return firstSets;
                            }
                        
                            public Map<String, Set<String>> getFollowSets() {
                                return followSets;
                            }
                        
                            public void displaySets() {
                                // Display FIRST sets
                                System.out.println("FIRST Sets:");
                                for (String nonTerminal : nonTerminals) {
                                    System.out.println("FIRST(" + nonTerminal + ") = " + setToString(firstSets.get(nonTerminal)));
                                }
                                
                                System.out.println();
                                
                                // Display FOLLOW sets
                                System.out.println("FOLLOW Sets:");
                                for (String nonTerminal : nonTerminals) {
                                    System.out.println("FOLLOW(" + nonTerminal + ") = " + setToString(followSets.get(nonTerminal)));
                                }
                            }
                        
                            private String setToString(Set<String> set) {
                                StringBuilder result = new StringBuilder("{ ");
                                Iterator<String> it = set.iterator();
                                
                                while (it.hasNext()) {
                                    result.append(it.next());
                                    if (it.hasNext()) {
                                        result.append(", ");
                                    }
                                }
                                
                                result.append(" }");
                                return result.toString();
                            }
                        
                            // Main method to demonstrate the algorithm
                            public static void main(String[] args) {
                                // Example grammar: E -> T E' | ε, E' -> + T E' | ε, T -> F T', T' -> * F T' | ε, F -> ( E ) | id
                                Map<String, List<String>> grammar = new HashMap<>();
                                grammar.put("E", Arrays.asList("T E'", "ε"));
                                grammar.put("E'", Arrays.asList("+ T E'", "ε"));
                                grammar.put("T", Arrays.asList("F T'"));
                                grammar.put("T'", Arrays.asList("* F T'", "ε"));
                                grammar.put("F", Arrays.asList("( E )", "id"));
                                
                                FirstAndFollowSets firstAndFollow = new FirstAndFollowSets(grammar, "E");
                                firstAndFollow.computeFirstAndFollowSets();
                                firstAndFollow.displaySets();
                                
                                // Generate LL(1) parsing table
                                System.out.println("\nLL(1) Parsing Table:");
                                generateLL1Table(grammar, firstAndFollow);
                            }
                            
                            // Method to generate LL(1) parsing table
                            public static void generateLL1Table(Map<String, List<String>> grammar, FirstAndFollowSets firstAndFollow) {
                                Map<String, Set<String>> firstSets = firstAndFollow.getFirstSets();
                                Map<String, Set<String>> followSets = firstAndFollow.getFollowSets();
                                Set<String> nonTerminals = new HashSet<>(grammar.keySet());
                                Set<String> terminals = new HashSet<>();
                                
                                // Identify terminals (excluding epsilon)
                                for (List<String> productions : grammar.values()) {
                                    for (String production : productions) {
                                        String[] symbols = production.split(" ");
                                        for (String symbol : symbols) {
                                            if (!nonTerminals.contains(symbol) && !symbol.equals("ε")) {
                                                terminals.add(symbol);
                                            }
                                        }
                                    }
                                }
                                terminals.add("$"); // Add end marker
                                
                                // Create parsing table
                                Map<String, Map<String, String>> parsingTable = new HashMap<>();
                                for (String nonTerminal : nonTerminals) {
                                    parsingTable.put(nonTerminal, new HashMap<>());
                                }
                                
                                // Fill the parsing table
                                for (String nonTerminal : nonTerminals) {
                                    List<String> productions = grammar.get(nonTerminal);
                                    
                                    for (String production : productions) {
                                        Set<String> firstOfProduction = new HashSet<>();
                                        
                                        if (production.equals("ε")) {
                                            // If production is epsilon, use FOLLOW set
                                            for (String follow : followSets.get(nonTerminal)) {
                                                addToParsingTable(parsingTable, nonTerminal, follow, "ε");
                                            }
                                        } else {
                                            // Calculate FIRST set of the production
                                            String[] symbols = production.split(" ");
                                            boolean allCanDeriveEpsilon = true;
                                            int i = 0;
                                            
                                            while (i < symbols.length && allCanDeriveEpsilon) {
                                                String symbol = symbols[i];
                                                
                                                if (terminals.contains(symbol)) {
                                                    firstOfProduction.add(symbol);
                                                    allCanDeriveEpsilon = false;
                                                } else if (nonTerminals.contains(symbol)) {
                                                    // Add everything in FIRST(symbol) except epsilon
                                                    for (String first : firstSets.get(symbol)) {
                                                        if (!first.equals("ε")) {
                                                            firstOfProduction.add(first);
                                                        }
                                                    }
                                                    
                                                    // If epsilon is not in FIRST(symbol), we're done
                                                    if (!firstSets.get(symbol).contains("ε")) {
                                                        allCanDeriveEpsilon = false;
                                                    }
                                                }
                                                
                                                i++;
                                            }
                                            
                                            // Add production to the parsing table for each terminal in FIRST(production)
                                            for (String terminal : firstOfProduction) {
                                                addToParsingTable(parsingTable, nonTerminal, terminal, production);
                                            }
                                            
                                            // If the entire production can derive epsilon, use FOLLOW set
                                            if (allCanDeriveEpsilon) {
                                                for (String follow : followSets.get(nonTerminal)) {
                                                    addToParsingTable(parsingTable, nonTerminal, follow, production);
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                // Display the parsing table
                                System.out.print("   | ");
                                List<String> sortedTerminals = new ArrayList<>(terminals);
                                Collections.sort(sortedTerminals);
                                
                                for (String terminal : sortedTerminals) {
                                    System.out.print(String.format("%-10s | ", terminal));
                                }
                                System.out.println();
                                
                                System.out.print("---+-");
                                for (int i = 0; i < sortedTerminals.size(); i++) {
                                    System.out.print("------------+-");
                                }
                                System.out.println();
                                
                                List<String> sortedNonTerminals = new ArrayList<>(nonTerminals);
                                Collections.sort(sortedNonTerminals);
                                
                                for (String nonTerminal : sortedNonTerminals) {
                                    System.out.print(String.format("%-3s| ", nonTerminal));
                                    
                                    for (String terminal : sortedTerminals) {
                                        String production = parsingTable.get(nonTerminal).getOrDefault(terminal, "");
                                        System.out.print(String.format("%-10s | ", production));
                                    }
                                    
                                    System.out.println();
                                }
                            }
                            
                            private static void addToParsingTable(Map<String, Map<String, String>> table, String nonTerminal, String terminal, String production) {
                                if (table.get(nonTerminal).containsKey(terminal)) {
                                    System.err.println("Grammar is not LL(1)! Conflict at [" + nonTerminal + ", " + terminal + "]");
                                    System.err.println("  Existing: " + table.get(nonTerminal).get(terminal));
                                    System.err.println("  New: " + production);
                                } else {
                                    table.get(nonTerminal).put(terminal, production);
                                }
                            }
                        }</p>
                </li>
                <li>
                    <h3>Blog Post 2</h3>
                    <p>Short excerpt from blog post 2.</p>
                </li>
            </ul>
        </section>
    </main>
    <footer>
        <p>&copy; <span id="current-year"></span> SAYANTAN ROY. All rights reserved.</p>
    </footer>
    <script src="script.js"></script>
</body>
</html>
